# =========================
# Test-Profil Konfiguration
# =========================

# Erzwingt ein Servlet-basiertes Application-Setup auch im Testprofil
# (wichtig für konsistentes Verhalten zwischen Test und Produktion)
spring.main.web-application-type=servlet

# =========================
# JPA / Hibernate
# =========================

# Kein automatisches Erzeugen/Ändern des Schemas durch Hibernate
# -> Flyway ist auch im Test die einzige Quelle für DB-Struktur
spring.jpa.hibernate.ddl-auto=none

# Verhindert Lazy-Loading außerhalb von Transaktionen
# -> deckt Architektur-Fehler frühzeitig in Tests auf
spring.jpa.open-in-view=false

# =========================
# Flyway (DB Migration)
# =========================

# Flyway ist auch im Testprofil aktiv
# -> Migrationen laufen exakt wie in echten Umgebungen
spring.flyway.enabled=true

# Pfad zu den SQL-Migrationen
spring.flyway.locations=classpath:db/migration

# =========================
# OpenAPI / Swagger
# =========================

# Deaktiviert OpenAPI-Dokumentation im Testprofil
# -> beschleunigt Context-Start
# -> vermeidet unnötige Beans in Smoke-/Integrationstests
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false
